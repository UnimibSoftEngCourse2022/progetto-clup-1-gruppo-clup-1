{% extends 'base.html' %}
{% block title %}
Stores
{% endblock %}

{% block content%}
<h2>{{ store.name }}</h2>
<ul>
    <li>{{ store.address }}</li>
</ul>
<p>Waiting List Length: {{ waiting_queue_len }}</p>
<p>Active Pool Length: {{ active_pool_len }}</p>
<p>Current People Inside: {{ current_people_quantity }}</p>
<form action= "{{ url_for('stores.make_reservation_into_store', id=store.id) }}", method = "post">
    <input type="submit" value="Make Reservation">
</form>
<form action= "{{ url_for('stores.enable_reservation_into_store', id=store.id) }}", method = "post">
    <input type="submit" value="Enable Reservation">
</form>

<input type="button" id= "delete_reservation_wq" value="Delete Reservation From WQ">
<input type="button" id= "delete_reservation_ap" value="Delete Reservation From AP">
<p id= "test"></p>
<script>

$("#delete_reservation_wq").click(function () {
    $.ajax({
    url: "{{ url_for('stores.delete_reservation_from_waiting_queue', id=store.id) }}",
    type: 'DELETE',
    success: function(result) {
        $( "#test" ).append( "Delete Reservation From WQ Success." );
    }
    });
});

$("#delete_reservation_ap").click(function () {
    $.ajax({
    url: "{{ url_for('stores.free_reservation_in_store', store_id=store.id) }}",
    type: 'DELETE',
    success: function(result) {
        $( "#test" ).append( "Delete Reservation From AP Success." );
    }
    });
});
</script>
{% endblock %}
